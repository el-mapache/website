!function(e,t){function n(){function e(e){return"img"===e.tagName.toLowerCase()}function n(e,t){return a(e),s(e),p.set(t,!1),[e]}function i(t){var i,a=document.querySelector(t);if(a)return e(a)?n(a,0):(i=a.getElementsByTagName("img"),[].reduce.call(i,function(e,t,i){return e.concat(n(t,i))},[]))}function a(e){e.style.visibility="hidden",e.className=e.className+" hide-image"}function s(e){var t=document.createElement("span");t.className="preloader";var n=e.parentNode;n.insertBefore(t,e),t.appendChild(e)}function o(e){var t=document.createElement("img");t.onload=e,t.style.display="none",t.src="../images/preloader.gif",document.body.appendChild(t)}function c(e,t){var n=[].slice.call(arguments,2);setTimeout(function(){t.apply(null,n)},e)}function l(e,t){e.className=e.className.replace(t,"")}function r(e){l(e.parentNode,"preloader"),l(e,"hide-image")}function d(e,t){e.style.visibility="visible",c(t,function(){e.className=e.className+" show-image",c(v,r,e)})}function u(e){function t(){return p.isLoaded()?void clearInterval(n):void e.forEach(function(e,t){"undefined"==typeof e||e.complete!==!0||p.get(t)||(p.set(t,!0),i+=f,d(e,i))})}var n,e=[].slice.call(e),i=h;n=setInterval(function(){t()},60)}var m,h=350,f=100,v=200,p=function(){var e=[];return{isLoaded:function(){return e.every(function(e){return e===!0})},set:function(t,n){e[t]=n},get:function(t){return e[t]}}}();m=o(function(){document.body.removeChild(this),u(i(t))})}function i(e){var t,n={animation:{start:"animationstart",end:"animationend"},OAnimation:{start:"oAnimationStart",end:"oAnimationEnd"},MozAnimation:{start:"animationstart",end:"animationend"},WebkitTransition:{start:"webkitAnimationEnd",end:"webkitAnimationEnd"}};for(t in n)if(void 0!==e.style[t])return n[t];return n.animation}function a(){function e(e,t){var i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET",e,!0),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){n=JSON.parse(i.responseText).projects;for(var e=0;e<n.length;e++)n[e].id=e;t(n)}},i.send(null)}var t="projects.json",n=[];return{getAll:function(i){return 0==n.length&&e.call(this,t,function(e){return i&&i(e)}),n},get:function(e){var t;if(n)return e>n.length-1?(t=0,[n[t],t]):e<0?(t=n.length-1,[n[t],t]):[n[e],e]}}}function s(e){this.el=e,this.template=doT.template(document.getElementById("sidebar-template").text),this.bindEvent("#close-btn","click",this.toggle),this.bindEvent("#next-btn","click",this.next),this.bindEvent("#prev-btn","click",this.prev),this.bindAnimationEvents(),this.closed=!0,this.onClose=document.createEvent("Event"),this.onClose.initEvent("ON_SIDEBAR_CLOSE",!0,!0),this.onNavigate=document.createEvent("Event"),this.onNavigate.initEvent("ON_NAVIGATE",!0,!0),this._onKeyPress=this._onKeyPress.bind(this)}s.prototype={bindEvent:function(e,t,n){n=n||function(){};var i=this,a=e instanceof HTMLElement?e:this.el.querySelector(e);"undefined"!=typeof a&&a.addEventListener(t,function(e){n.call(i,e)})},bindAnimationEvents:function(){var e=i(this.el);this.bindEvent(this.el,e.start,function(e){"animateShow"===e.animationName&&(e.target.className=e.target.className+" click-overlay")}),this.bindEvent(this.el,e.end,function(e){"animateHide"===e.animationName&&(e.target.className=e.target.className.replace(/ click-overlay/,""))})},render:function(){this.el.querySelector("#project-metadata").innerHTML=this.template(this.model)},_onKeyPress:function(e){switch(e.keyCode){case 27:this.close();break;case 39:this.next();break;case 37:this.prev()}},bindShortcuts:function(){document.addEventListener("keydown",this._onKeyPress)},unbindShortcuts:function(){document.removeEventListener("keydown",this._onKeyPress)},toggle:function(){this.closed?this.open():this.close()},open:function(){this.closed&&(this.el.className=this.el.className.replace(" hide-animation",""),this.el.className=this.el.className+=" show-animation",this.closed=!1,this.bindShortcuts())},close:function(){this.closed||(this.el.className=this.el.className.replace(" show-animation",""),this.el.className=this.el.className+=" hide-animation",this.closed=!0,this.unbindShortcuts(),this.model=null,document.dispatchEvent(this.onClose))},next:function(){if(this.model){var e=this.model.id+1;this.update(o.get(e))}},prev:function(){if(this.model){var e=this.model.id-1;this.update(o.get(e))}},update:function(e){this.model=e[0];var t=e[1];this.render(),this.onNavigate.data=t,document.dispatchEvent(this.onNavigate)}};var o=new a;o.getAll(function(e){function t(e){var t=+this.getAttribute("data-index");c.update(o.get(t),t),c.open()}function i(e){var t=e.data;a.forEach(function(e,n){/ active/.test(e.className)&&(e.className=e.className.replace(" active","")),n===t&&(e.className=e.className+" active")})}var a,c=new s(document.getElementById("project-detail-view")),l=doT.template(document.getElementById("projects-template").text);document.getElementById("main-list-wrapper").innerHTML=l({data:e}),a=[].slice.call(document.querySelectorAll(".media-box")),document.addEventListener("ON_SIDEBAR_CLOSE",function(e){a.forEach(function(e){e.className=e.className.replace(" active","")})},!1),document.addEventListener("ON_NAVIGATE",i),new n,a.forEach(function(e){e.onclick=t})});var c=function(e){e.style.height=document.documentElement.clientHeight+"px"},l=function(e){var t=null,n=e.length,i=n-1;for(i;i>0;i--)e[i].style.height="auto",e[i].offsetHeight>t&&(t=e[i].offsetHeight);for(;n-- >0;)e[n].style.height=t+"px"},r=document.querySelectorAll(".media-box"),d=document.getElementById("project-detail-view");c(d),l(r);var u={addHandler:function(e,t){this.handlers[e]=this.handlers[e]||[];var n=[].slice.call(arguments,2),i=function(e,t){return function(){t.apply(null,e)}}(n,t);this.handlers[e].push(i)},handlers:{}};u.addHandler("resize",l,r),u.addHandler("resize",c,d),e.onresize=function(e){for(var t=u.handlers[e.type],n=0;n<t.length;n++)t[n]()}}(window,"#main-list");
!function(){function e(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}function t(e,n,r){return("string"==typeof n?n:n.toString()).replace(e.define||i,function(t,n,o,a){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===o?(e.defineParams&&a.replace(e.defineParams,function(e,t,o){r[n]={arg:t,text:o}}),n in r||(r[n]=a)):new Function("def","def['"+n+"']="+a)(r)),""}).replace(e.use||i,function(n,o){e.useParams&&(o=o.replace(e.useParams,function(e,t,n,o){if(r[n]&&r[n].arg&&o)return e=(n+":"+o).replace(/'|\\/g,"_"),r.__exp=r.__exp||{},r.__exp[e]=r[n].text.replace(RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+o+"$2"),t+"def.__exp['"+e+"']"}));var a=new Function("def","return "+o)(r);return a?t(e,a,r):a})}function n(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var r,o={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd?define(function(){return o}):(r=function(){return this||(0,eval)("this")}(),r.doT=o),String.prototype.encodeHTML=e();var a={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},i=/$^/;o.template=function(r,u,c){u=u||o.templateSettings;var s,p,l=u.append?a.append:a.split,d=0;r=u.use||u.define?t(u,r,c||{}):r,r=("var out='"+(u.strip?r.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):r).replace(/'|\\/g,"\\$&").replace(u.interpolate||i,function(e,t){return l.start+n(t)+l.end}).replace(u.encode||i,function(e,t){return s=!0,l.start+n(t)+l.endencode}).replace(u.conditional||i,function(e,t,r){return t?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(u.iterate||i,function(e,t,r,o){return t?(d+=1,p=o||"i"+d,t=n(t),"';var arr"+d+"="+t+";if(arr"+d+"){var "+r+","+p+"=-1,l"+d+"=arr"+d+".length-1;while("+p+"<l"+d+"){"+r+"=arr"+d+"["+p+"+=1];out+='"):"';} } out+='"}).replace(u.evaluate||i,function(e,t){return"';"+n(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),s&&u.selfcontained&&(r="String.prototype.encodeHTML=("+e.toString()+"());"+r);try{return new Function(u.varname,r)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+r),e}},o.compile=function(e,t){return o.template(e,null,t)}}();