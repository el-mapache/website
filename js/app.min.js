(function(e,t){function n(){function a(e){var e=document.querySelector(e);var t;var n;if(!e)return;if(e.tagName.toLowerCase()==="img"){f(e);l(e);t=[e];return t}t=e.getElementsByTagName("img"),n=t.length;if(n<1)return;for(var r=0;r<n;r++){f(t[r]);l(t[r]);i[r]=false}return t}function f(e){e.style.visibility="hidden";e.className=e.className+" hide-image"}function l(e){var t=document.createElement("span");t.className="preloader";var n=e.parentNode;n.insertBefore(t,e);t.appendChild(e)}function c(){var e=document.createElement("img");e.src="../images/preloader.gif";e.style.display="none";document.body.appendChild(e);return e}function h(e,t){var n=Array.prototype.slice.call(arguments,2);setTimeout(function(){t.apply(null,n)},e)}function p(e){e.parentNode.className=e.parentNode.className.replace("preloader","")}function d(t){function u(){var e=0;var u=t.length;if(u===0){clearInterval(s);return}for(e;e<u;e++){if(typeof t[e]!=="undefined"&&t[e].complete===true){if(!i[e]){i[e]=!!i;i.splice(e,1);o+=n}function a(e,t){e.style.visibility="visible";h(t,function(){e.className=e.className+" show-image";h(r,p,e)})}a(t[e],o);t.splice(e,1)}}}var s;var t=Array.prototype.slice.call(t);var o=e;s=setInterval(function(){u()},300)}function v(){if(s.complete===true){clearInterval(o);document.body.removeChild(s);d(imgs)}}var e=350,n=100,r=250;var i=[];var s;var o;var u;imgs=a(t);s=c();o=setInterval(function(){v()},50)}function r(){function n(e,n){var r=new XMLHttpRequest;r.overrideMimeType("application/json");r.open("GET",e,false);r.onreadystatechange=function(){if(r.readyState===4&&r.status===200){t=JSON.parse(r.responseText).projects;for(var e=0;e<t.length;e++){t[e].id=e}n(t)}};r.send(null)}var e="projects.json";var t=[];return{getAll:function(r){if(t.length==0){n.call(this,e,function(e){return r&&r(e)})}return t},get:function(e){if(!t)return;if(e>t.length-1){return t[0]}if(e<0){return t[t.length-1]}return t[e]}}}function i(e){this.el=e;this.bindEvent("#close-btn","click",this.toggle);this.bindEvent("#next-btn","click",this.next);this.bindEvent("#prev-btn","click",this.prev);this.closed=true}i.prototype={bindEvent:function(e,t,n){n=n||function(){};var r=this;var i=this.el.querySelector(e);if(typeof i==="undefined"){return}i.addEventListener(t,function(e){n.call(r,e)})},render:function(){this.el.querySelector("#project-title").innerHTML=this.model.name;this.el.querySelector("#tech").innerHTML=this.model.tech;this.el.querySelector("#project-description").innerHTML=this.model.description;if(this.model.uri){this.el.querySelector("#project-link").style.display="initial";this.el.querySelector("#project-repo-link").style.marginLeft="";this.el.querySelector("#project-link").href=this.model.uri}else{this.el.querySelector("#project-link").style.display="none";this.el.querySelector("#project-repo-link").style.marginLeft="0px"}this.el.querySelector("#project-repo-link").href=this.model.repo},_onEscKeyPress:function(e){if(e.keyCode===27){this.close()}},bindShortcuts:function(){document.addEventListener("keydown",this._onEscKeyPress.bind(this))},unbindShortcuts:function(){document.removeEventListener("keydown",this._onEscKeyPress)},toggle:function(){this.closed?this.open():this.close()},open:function(){if(this.closed){this.el.className=this.el.className.replace(" hide-animation","");this.el.className=this.el.className+=" show-animation";this.closed=false;this.bindShortcuts()}},close:function(){if(this.closed){return}this.el.className=this.el.className.replace(" show-animation","");this.el.className=this.el.className+=" hide-animation";this.closed=true;this.unbindShortcuts()},next:function(){if(!this.model){return}this.model=s.get(this.model.id+1);this.render()},prev:function(){if(!this.model){return}this.model=s.get(this.model.id-1);this.render()},update:function(e,t){this.model=e;this.render()}};var s=new r;s.getAll(function(){function t(t){var n=+this.getAttribute("data-index");e.update(s.get(n));e.open()}new n;var e=new i(document.getElementById("project-detail-view"));var r=document.querySelectorAll(".media-box");for(var o=0;o<r.length;o++){r[o].onclick=t}});var o=function(e){e.style.height=document.documentElement.clientHeight+"px"};var u=function(e){var t=null;var n=e.length;var r=n-1;for(r;r>0;r--){e[r].style.height="auto";if(e[r].offsetHeight>t){t=e[r].offsetHeight}}while(n-->0){e[n].style.height=t+"px"}};var a=document.querySelectorAll(".media-box");var f=document.getElementById("project-detail-view");o(f);u(a);var l={addHandler:function(e,t){this.handlers[e]=this.handlers[e]||[];var n=[].slice.call(arguments,2);var r=function(e,t){return function(){t.apply(null,e)}}(n,t);this.handlers[e].push(r)},handlers:{}};l.addHandler("resize",u,a);l.addHandler("resize",o,f);e.onresize=function(e){var t=l.handlers[e.type];for(var n=0;n<t.length;n++){t[n]()}}})(window,"#main-list")